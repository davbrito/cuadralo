{
  "version": "8",
  "dialect": "postgres",
  "id": "19681a69-eef3-4655-9b00-de1a7e85db71",
  "prevIds": [
    "5e01c50c-3377-43d5-9c6c-c39ed48a46fa"
  ],
  "ddl": [
    {
      "isRlsEnabled": false,
      "name": "availabilities",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "bookings",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "profiles",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "isRlsEnabled": false,
      "name": "services",
      "entityType": "tables",
      "schema": "public"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "week_day",
      "entityType": "columns",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "type": "time(0)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "start_time",
      "entityType": "columns",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "type": "time(0)",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "end_time",
      "entityType": "columns",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "service_id",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "provider_user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "customer_user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "guest_name",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "guest_email",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "guest_phone",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "start_time",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "end_time",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "deleted_at",
      "entityType": "columns",
      "schema": "public",
      "table": "bookings"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "profiles"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "timezone",
      "entityType": "columns",
      "schema": "public",
      "table": "profiles"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "30",
      "generated": null,
      "identity": null,
      "name": "slot_duration_minutes",
      "entityType": "columns",
      "schema": "public",
      "table": "profiles"
    },
    {
      "type": "uuid",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "gen_random_uuid()",
      "generated": null,
      "identity": null,
      "name": "id",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "user_id",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "name",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "text",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "description",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "created_at",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "now()",
      "generated": null,
      "identity": null,
      "name": "updated_at",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "timestamp with time zone",
      "typeSchema": null,
      "notNull": false,
      "dimensions": 0,
      "default": null,
      "generated": null,
      "identity": null,
      "name": "deleted_at",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "type": "smallint",
      "typeSchema": null,
      "notNull": true,
      "dimensions": 0,
      "default": "30",
      "generated": null,
      "identity": null,
      "name": "duration_minutes",
      "entityType": "columns",
      "schema": "public",
      "table": "services"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "user_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "availabilities_user_id_idx",
      "entityType": "indexes",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "service_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "bookings_service_id_idx",
      "entityType": "indexes",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "customer_user_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "bookings_customer_user_id_idx",
      "entityType": "indexes",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "provider_user_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "bookings_provider_user_id_idx",
      "entityType": "indexes",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": true,
      "columns": [
        {
          "value": "user_id",
          "isExpression": false,
          "asc": true,
          "nullsFirst": false,
          "opclass": null
        }
      ],
      "isUnique": false,
      "where": null,
      "with": "",
      "method": "btree",
      "concurrently": false,
      "name": "services_user_id_idx",
      "entityType": "indexes",
      "schema": "public",
      "table": "services"
    },
    {
      "nameExplicit": false,
      "columns": [
        "user_id"
      ],
      "schemaTo": "public",
      "tableTo": "profiles",
      "columnsTo": [
        "user_id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "availabilities_user_id_profiles_user_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "nameExplicit": false,
      "columns": [
        "service_id"
      ],
      "schemaTo": "public",
      "tableTo": "services",
      "columnsTo": [
        "id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "bookings_service_id_services_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": false,
      "columns": [
        "provider_user_id"
      ],
      "schemaTo": "public",
      "tableTo": "profiles",
      "columnsTo": [
        "user_id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "bookings_provider_user_id_profiles_user_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": false,
      "columns": [
        "customer_user_id"
      ],
      "schemaTo": "public",
      "tableTo": "profiles",
      "columnsTo": [
        "user_id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "bookings_customer_user_id_profiles_user_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "bookings"
    },
    {
      "nameExplicit": false,
      "columns": [
        "user_id"
      ],
      "schemaTo": "public",
      "tableTo": "profiles",
      "columnsTo": [
        "user_id"
      ],
      "onUpdate": "NO ACTION",
      "onDelete": "CASCADE",
      "name": "services_user_id_profiles_user_id_fkey",
      "entityType": "fks",
      "schema": "public",
      "table": "services"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "bookings_pkey",
      "schema": "public",
      "table": "bookings",
      "entityType": "pks"
    },
    {
      "columns": [
        "user_id"
      ],
      "nameExplicit": false,
      "name": "profiles_pkey",
      "schema": "public",
      "table": "profiles",
      "entityType": "pks"
    },
    {
      "columns": [
        "id"
      ],
      "nameExplicit": false,
      "name": "services_pkey",
      "schema": "public",
      "table": "services",
      "entityType": "pks"
    },
    {
      "value": "\"start_time\" < \"end_time\"",
      "name": "availabilities_time_check",
      "entityType": "checks",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "value": "\"week_day\" >= 0 AND \"week_day\" <= 6",
      "name": "availabilities_weekday_check",
      "entityType": "checks",
      "schema": "public",
      "table": "availabilities"
    },
    {
      "value": "\"start_time\" < \"end_time\"",
      "name": "bookings_time_check",
      "entityType": "checks",
      "schema": "public",
      "table": "bookings"
    },
    {
      "value": "((\"customer_user_id\" is not null) or ((\"guest_name\" is not null) and ((\"guest_email\" is not null) or (\"guest_phone\" is not null))))",
      "name": "bookings_customer_info_check",
      "entityType": "checks",
      "schema": "public",
      "table": "bookings"
    },
    {
      "value": "\"slot_duration_minutes\" > 0 AND \"slot_duration_minutes\" <= 1440",
      "name": "profiles_slot_duration_check",
      "entityType": "checks",
      "schema": "public",
      "table": "profiles"
    },
    {
      "value": "char_length(\"name\") > 0 AND char_length(\"name\") <= 255",
      "name": "services_name_length_check",
      "entityType": "checks",
      "schema": "public",
      "table": "services"
    },
    {
      "value": "char_length(\"description\") <= 5000",
      "name": "services_description_length_check",
      "entityType": "checks",
      "schema": "public",
      "table": "services"
    },
    {
      "value": "\"duration_minutes\" > 0 AND \"duration_minutes\" <= 1440",
      "name": "services_duration_check",
      "entityType": "checks",
      "schema": "public",
      "table": "services"
    }
  ],
  "renames": []
}